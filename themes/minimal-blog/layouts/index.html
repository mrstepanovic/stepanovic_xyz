{{ define "main" }}
<div class="home">
    <!-- Pinned Posts Section -->
    {{ $pinnedPosts := where .Site.RegularPages "Params.pinned" true }}
    {{ if $pinnedPosts }}
        {{ range $pinnedPosts }}
            <article class="pinned-post">
                <div class="pin-badge">ðŸ“Œ PINNED</div>
                <h2><a href="{{ .Permalink }}" style="text-decoration: none; color: inherit;">{{ .Title }}</a></h2>
                <div class="post-meta">
                    <time>{{ .Date.Format "January 2, 2006" }}</time>
                </div>
                {{ if .Summary }}
                    <p>{{ .Summary }}</p>
                {{ end }}
                <a href="{{ .Permalink }}" style="color: #3498db; font-weight: 500;">Read more â†’</a>
            </article>
        {{ end }}
    {{ end }}

    <!-- All Posts Section -->
    {{ $regularPosts := where .Site.RegularPages "Params.pinned" "!=" true }}
    {{ if $regularPosts }}
        <h2>{{ if $pinnedPosts }}Latest Posts{{ else }}Posts{{ end }}</h2>
        <ul class="post-list">
            {{ range $regularPosts }}
                <li>
                    <h3><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
                    <div class="post-meta">
                        <time>{{ .Date.Format "January 2, 2006" }}</time>
                    </div>
                    {{ if .Summary }}
                        <p>{{ .Summary }}</p>
                    {{ end }}
                </li>
            {{ end }}
        </ul>
    {{ end }}
    
    {{ if not .Site.RegularPages }}
        <h2>Welcome</h2>
        <p>{{ .Site.Params.description }}</p>
        <p>No posts yet. <a href="/posts/">Check back soon!</a></p>
    {{ end }}
</div>
{{ end }}